<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html>
  <head>
    <title>QMS Probes - Simple QoS metric probes deployed by the sensors</title>
    <meta http-equiv="keywords" content="Validation">
    <meta http-equiv="keywords" content="S/TDC">
    <meta http-equiv="keywords" content="QMS">
    <meta http-equiv="keywords" content="QoS">
    <meta http-equiv="keywords" content="Metrics">
    <meta http-equiv="keywords" content="Services">
    <link href="mailto:info@stdc.com" rev="made">
    <meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
    <link href="../stylesheets/index.css" rel="stylesheet" type="text/css">
  </head>
  <body bgcolor="#ffffff">
    <p class="center">
      <a href="http://www.stdc.com/">
        <img class="center" src="../images/stdchead2logo.gif" alt="S/TDC"
	     border=0 height="42" width="629">
      </a>
   </p>
<!-- Generated by Doxygen 1.8.7 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#groups">Modules</a> &#124;
<a href="#files">Files</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">QMS Probes - Simple QoS metric probes deployed by the sensors<div class="ingroups"><a class="el" href="group__Instrumentation.html">Instrumentation - QoS intrumentation that uses QMS</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Collaboration diagram for QMS Probes - Simple QoS metric probes deployed by the sensors:</div>
<div class="dyncontent">
<center><table><tr><td><img src="group__Probes.png" border="0" alt="" usemap="#group____Probes"/>
<map name="group____Probes" id="group____Probes">
<area shape="rect" id="node1" href="group__OneShot.html" title="OneShot Probes" alt="" coords="461,5,581,38"/><area shape="rect" id="node2" href="group__Instrumentation.html" title="Instrumentation &#45; QoS\l intrumentation that\l uses QMS" alt="" coords="7,11,156,87"/><area shape="rect" id="node3" href="group__Continuous.html" title="Continuous Probes" alt="" coords="453,61,589,94"/></map>
</td></tr></table></center>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="groups"></a>
Modules</h2></td></tr>
<tr class="memitem:group__Continuous"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Continuous.html">Continuous Probes</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__OneShot"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__OneShot.html">OneShot Probes</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="files"></a>
Files</h2></td></tr>
<tr class="memitem:Probe_8h"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Probe_8h.html">Probe.h</a></td></tr>
<tr class="memdesc:Probe_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">QMS Probes - Simple QoS metric probes deployed by the sensors. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:Continuous_8h"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Continuous_8h.html">Continuous.h</a></td></tr>
<tr class="memdesc:Continuous_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">Continuous probes. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:Linux__Perf__Mon__Probe_8cpp"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Linux__Perf__Mon__Probe_8cpp.html">Linux_Perf_Mon_Probe.cpp</a></td></tr>
<tr class="memdesc:Linux__Perf__Mon__Probe_8cpp"><td class="mdescLeft">&#160;</td><td class="mdescRight">Contains implementation of a Generic Continuos Probe. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:OneShot_8h"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="OneShot_8h.html">OneShot.h</a></td></tr>
<tr class="memdesc:OneShot_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">OneShot probes. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:Generic__OneShot__Probe_8cpp"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Generic__OneShot__Probe_8cpp.html">Generic_OneShot_Probe.cpp</a></td></tr>
<tr class="memdesc:Generic__OneShot__Probe_8cpp"><td class="mdescLeft">&#160;</td><td class="mdescRight">Contains implementation of a One_Shot Probe. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:Generic__OneShot__Probe_8h"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Generic__OneShot__Probe_8h.html">Generic_OneShot_Probe.h</a></td></tr>
<tr class="memdesc:Generic__OneShot__Probe_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">Contains implementation of OneShot Probe that delivers QMS Metrics. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:get__data__O_8cpp"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="get__data__O_8cpp.html">get_data_O.cpp</a></td></tr>
<tr class="memdesc:get__data__O_8cpp"><td class="mdescLeft">&#160;</td><td class="mdescRight">Contains implementation of the guts of a Remos Probe. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gabd7f21dbef7a08e5bd230cf476be5d2a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Probes.html#gabd7f21dbef7a08e5bd230cf476be5d2a">get_data</a> (char *src, char *dest)</td></tr>
<tr class="memdesc:gabd7f21dbef7a08e5bd230cf476be5d2a"><td class="mdescLeft">&#160;</td><td class="mdescRight">prints the XML Metrics information to the standard out.  <a href="#gabd7f21dbef7a08e5bd230cf476be5d2a">More...</a><br /></td></tr>
<tr class="separator:gabd7f21dbef7a08e5bd230cf476be5d2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:gaa31f487a99743d24af9076a3e11e5425"><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Probes.html#gaa31f487a99743d24af9076a3e11e5425">version</a> = &quot;$Id: Linux_Perf_Mon_Probe.cpp,v 1.12 2002/01/26 17:34:49 nath Exp $&quot;</td></tr>
<tr class="memdesc:gaa31f487a99743d24af9076a3e11e5425"><td class="mdescLeft">&#160;</td><td class="mdescRight">RCS version.  <a href="#gaa31f487a99743d24af9076a3e11e5425">More...</a><br /></td></tr>
<tr class="separator:gaa31f487a99743d24af9076a3e11e5425"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa31f487a99743d24af9076a3e11e5425"><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Probes.html#gaa31f487a99743d24af9076a3e11e5425">version</a> = &quot;$Id: Generic_OneShot_Probe.cpp,v 1.3 2001/10/21 08:54:06 srivasta Exp $&quot;</td></tr>
<tr class="memdesc:gaa31f487a99743d24af9076a3e11e5425"><td class="mdescLeft">&#160;</td><td class="mdescRight">RCS version.  <a href="#gaa31f487a99743d24af9076a3e11e5425">More...</a><br /></td></tr>
<tr class="separator:gaa31f487a99743d24af9076a3e11e5425"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Probes are the lowest level entity in the QMS infrastructure. If there is a data stream that is being generated, then there is a probe. Conceptually, a probe is the portion of the entity that is generating the data stream. Ofcourse, the probe could be a separate entity that allows itself to be controlled by the Sensor (this is how the Generic Sensor interacts with its probes) or it could be a probe that is built into the Sensor and has no existence of its own (the HelloWorld Probe).</p>
<p>Probes are defined to be simple data sources, inserted either in application software on in the operating system itself. Most probes are designed to have minimal impact on the system being instrumented, and thus not perturb the operating points of the process being monitored.</p>
<p>The Sensor/Probe communication is designed to be simplistic; no complex hand shake protocols are envisaged. Indeed, in abstract, probes are extremely polymorphic: in theory, probes only need support two commands;</p><ol type="1">
<li>provide data (with some optional parameters, perhaps)</li>
<li>terminate</li>
</ol>
<p>Where more sophisticated pre-processing of the datum being generated is desirable, it is performed by the sensor that inserted the probe.</p>
<p><em>Resource</em> <em>Discovery</em> </p>
<p>A simple way for handling capability file updates can be added to the packaging of the probes:</p><ul>
<li>Part of the of the installation of a probe would be an XML snippet that contains the stanza describing things like location, family of probe/sensor communication methods, class of data provided, etc</li>
<li>In the post install hook, add a call to a standard utility to regenerate the capability file using a header, a footer, and the snippets provided by all the probes</li>
<li>Signal all local sensors to re-read the capabilities file A similar process occurs whenever the probe is removed from the system:</li>
<li>The XML snippet that detaild the probes capabilities is removed.</li>
<li>In the post removal hook, a call is made to the standard utility to regenerate the capabilities file</li>
<li>Signal all local sensors to re-read the capabilities file</li>
</ul>
<p><em>Classification</em> <em>of</em> <em>Probes</em> </p>
<p>Probes are classified based loosely on the means of communication with the sensor. (Use of XML as a data encoding scheme is not mandated for probes, since the presence4 of a XML parser maybe overly onerous for a lightweight probe). Some of the common methods under consideration are:</p><ul>
<li>IPC using named pipes</li>
<li>Child process communicating over stdin/stdout</li>
<li>dynamically loaded libraries loaded into the sensor process</li>
<li>compiled directly into the sensor code</li>
</ul>
<p><em>Understanding</em> <em>Probes</em> </p>
<p>When you've identified a unique data stream you have a case for a probe. The first step is to define a format for the data that the probe generates. It is important for this format to be something that the clients receiving the data understand as well, so as to be able to make sense of the data they are receiving. So this is accomplished by defining an XML Schema for the probe - ProbeSchema.xsd that clearly defines the format in which the probe publishes its data.</p>
<p>Now we would like to have the probe also support some additional features such as stopping the data stream, starting the data stream etc. These would be instructions sent to the probe in a request from the client. To make sure that the client understands the instructions, these are also described in the ProbeSchema.xsd. This ensures that the clients also know what instructions are supported by the Probe and how to activate them. </p>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gabd7f21dbef7a08e5bd230cf476be5d2a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void get_data </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>dest</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>prints the XML Metrics information to the standard out. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">request_id</td><td>Any user defined parameter. </td></tr>
    <tr><td class="paramname">data_id</td><td>Any user defined parameter. </td></tr>
    <tr><td class="paramname">sleep_interval</td><td>Any user defined parameter. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>NONE. </dd></dl>

<p>Definition at line <a class="el" href="get__data__O_8cpp_source.html#l00063">63</a> of file <a class="el" href="get__data__O_8cpp_source.html">get_data_O.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="gaa31f487a99743d24af9076a3e11e5425"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char* version = &quot;$Id: Generic_OneShot_Probe.cpp,v 1.3 2001/10/21 08:54:06 srivasta Exp $&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>RCS version. </p>

<p>Definition at line <a class="el" href="Generic__OneShot__Probe_8cpp_source.html#l00050">50</a> of file <a class="el" href="Generic__OneShot__Probe_8cpp_source.html">Generic_OneShot_Probe.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="gaa31f487a99743d24af9076a3e11e5425"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char* version = &quot;$Id: Linux_Perf_Mon_Probe.cpp,v 1.12 2002/01/26 17:34:49 nath Exp $&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>RCS version. </p>

<p>Definition at line <a class="el" href="Linux__Perf__Mon__Probe_8cpp_source.html#l00069">69</a> of file <a class="el" href="Linux__Perf__Mon__Probe_8cpp_source.html">Linux_Perf_Mon_Probe.cpp</a>.</p>

</div>
</div>
</div><!-- contents -->
    <table width="95%" border="7" frame="box" rules="none">
      <tbody align="center">
	<tr align="center">
	  <td align="center">
	    <table width="100%">
	      <colgroup width="25%">
		<col width="25%" align="left">
		<col span="2" width="25%" align="center">
		<col width="25%" align="right">
	      </colgroup>
	      <tbody align="center">
		<tr>
		  <td colspan="1" align="left">
		   <b>QoS Metrics Services</b> 
		  </td>
		  <td colspan="2" align="right" valign="top">
		    <a href="http://www.stdc.com/">
		      <img src="../images/logoonly.gif"
			   alt="S/TDC"  border=0
			   width=120  height=45>   
		    </a>
		  </td>
		  <td colspan="1" align="right">
		    <small id="xtiny">Revision: 1.2.1</small>
		  </td>
		</tr>
	      </tbody>
	    </table>
	  </td>
	</tr>
      </tbody>
    </table>
    <script type="text/javascript" language="JavaScript">
      <!--
      document.write("<p align=\"center\"><font size=\"-2\">Last Updated: ");
      document.writeln(document.lastModified);
        document.writeln("</font></p>");
      // -->
    </SCRIPT>
  </body>
</html>
<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-indent-data: t
sgml-live-element-indicator: t
sgml-set-face: t
End:
-->
