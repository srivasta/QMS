<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html>
  <head>
    <title>Understanding QMS Sensors</title>
    <meta http-equiv="keywords" content="Validation">
    <meta http-equiv="keywords" content="S/TDC">
    <meta http-equiv="keywords" content="QMS">
    <meta http-equiv="keywords" content="QoS">
    <meta http-equiv="keywords" content="Metrics">
    <meta http-equiv="keywords" content="Services">
    <link href="mailto:info@stdc.com" rev="made">
    <meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
    <link href="../stylesheets/index.css" rel="stylesheet" type="text/css">
  </head>
  <body bgcolor="#ffffff">
    <p class="center">
      <a href="http://www.stdc.com/">
        <img class="center" src="../images/stdchead2logo.gif" alt="S/TDC"
	     border=0 height="42" width="629">
      </a>
   </p>
<!-- Generated by Doxygen 1.8.7 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Understanding QMS Sensors </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>A Sensor is a QMS citizen that will publish data into the QMS environment. Since it is a QMS citizen, it is required to expose some mandatory Corba interfaces, that will enable a QMS administrator to control this Sensor causing it to shutdown, pause etc. This interface is called the Command and Control Interface. The more relevant of these interfaces that the Sensor provides is the ping() interface, the use of which is described in <a class="el" href="QMSClients.html">Understanding QMS Clients</a> . Since this implies that the QMS Sensor is also a CORBA object, the Sensor appropriately registers its service in the CORBA Name Service as well as creates the appropriate naming context in the Name Service. The image below illustrates this for a Generic Sensor.</p>
<div class="image">
<img src="../images/naming_context_view.png"  alt="Naming Context View"/>
</div>
<p>When the Sensor is instantiated, it is configured using an XML configuration file - "SensorConfiguration.xml" that specifies the various parameters that the Sensor needs for its operation. The Sensor reads this file and determines what kind of data streams it is going to publish into the QMS environment. Conceptually, each data stream is generated by a probe. Probes can be built-in probes or external probes. The Hello_World Sensor, for instance has a single built in probe, while the Generic Sensor only supports external probes and can support any number of them.</p>
<p>As a rule for Sensors, probes that are built into the Sensor are described in the configuration file directly (SensorConfiguration.xml), while probes that are external to the Sensor are described in an additional capability file - "sensorCapability.xml". Thus, in the case of the Generic Sensor, the Sensor reads two files at instantiation - sensorConfiguration.xml and sensorCapability.xml, which then help it to start/stop the external probes. This distinction is clearly evident in the case of the Remos_Sensor, which is a hybrid Sensor, i.e. - it has a built-in probe and two external probes. The built-in probe is defined in the configuration file, while the two external probes are described in the capability file.</p>
<p>Note that with each data stream, i.e. Probe there is a QMSUniqueName/Category that is defined. This string should be selected carefully as it is indicative of the nature of the data being provided by the probe. Once the Sensor determines how many data streams it is publishing (i.e., number of probes), it contacts the QMS Trader to obtain a SupplierID for itself. Every entity that publishes data in QMS is required to have a SupplierID. For each data stream that the Sensor is publishing, it obtains the Event Channel information from the QMS Trader. Then it publishes YellowPages Offers (YP Offers) in the QMS Trader with information about every data stream that it is capable of providing to the world.</p>
<p>Now the Sensor is ready and waiting to receive requests for its data streams from the world.</p>
 An example Sensor configuration file is described in Documentation/XML/QMSCitizenConfiguration.xml. The first section describes the service offer that the Sensor will provide to the QMS Trader. <div class="fragment"></div><!-- fragment --></p>
<p>The next section in the configuration demonstrates that the Sensor described by this file has a built in probe which will provide a data stream with the QMSUniqueName/Category - "QMSLogger". All built in probes provided by a Sensor will be described in the Sensor's configuration file. <div class="fragment"></div><!-- fragment --></p>
<p>Similarly, a sample configuration file for a Sensor with external probes is included in Documentation/XML/GenericSensorConfiguration.xml. Note that in this case, there are no specific probes described in this file. There is only a pointer to a capability file that contains all the probes that this Sensor provides. </p><div class="fragment"><div class="line">&lt;?xml <a class="code" href="ListOffers_8cpp.html#aa31f487a99743d24af9076a3e11e5425">version</a>=<span class="stringliteral">&quot;1.0&quot;</span> encoding=<span class="stringliteral">&quot;UTF-8&quot;</span>?&gt;</div>
<div class="line">&lt;!--******************************************************************</div>
<div class="line"> * Copyright (c) 2001, System/Technology Development Corporation.</div>
<div class="line"> *                </div>
<div class="line"> * Filename:      GenericSensorConfiguration.xml</div>
<div class="line"> * Version:       </div>
<div class="line"> * Description:   Sample Configuration File <span class="keywordflow">for</span> the Generic Sensor</div>
<div class="line"> *                </div>
<div class="line"> * Author:        Amarendranath Vadlamudi &lt;amar.vadlamudi@stdc.com&gt;</div>
<div class="line"> * Created at:    Tue Oct  9 14:00:27 2001</div>
<div class="line"> * Modified by:   Amarendranath Vadlamudi &lt;amar.vadlamudi@stdc.com&gt;</div>
<div class="line"> * Modified at:   Wed Oct 24 18:30:09 2001</div>
<div class="line"> * Status:        Experimental, <span class="keywordflow">do</span> not distribute.</div>
<div class="line"> * Update <a class="code" href="Benchmark__Remos_8cpp.html#ad43c3812e6d13e0518d9f8b8f463ffcf">count</a>:  1</div>
<div class="line"> ******************************************************************--&gt;</div>
<div class="line"></div>
<div class="line">&lt;sensorConfiguration xmlns=<span class="stringliteral">&quot;http://www.stdc.com/2001/QMSSchema&quot;</span></div>
<div class="line">  xmlns:xsi=<span class="stringliteral">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></div>
<div class="line">  xmlns:qms=<span class="stringliteral">&quot;http://www.stdc.com/2001/QMSSchema&quot;</span></div>
<div class="line">  xsi:schemaLocation=<span class="stringliteral">&quot;http://www.stdc.com/2001/QMSSchema</span></div>
<div class="line"><span class="stringliteral">  QMSSchema.xsd&quot;</span>&gt;</div>
<div class="line">  </div>
<div class="line">  &lt;QMSSchema/&gt;</div>
<div class="line">  &lt;QMSUniqueName&gt;</div>
<div class="line">    &lt;category&gt;QMSGenericSensor&lt;/category&gt;</div>
<div class="line">  &lt;/QMSUniqueName&gt;</div>
<div class="line">  &lt;interfaceVersion&gt;1.01&lt;/interfaceVersion&gt;</div>
<div class="line">  &lt;interfaceDescription&gt;</div>
<div class="line">    A <a class="code" href="Generic__SensorC_8h.html#a7b3160447a0ada7b99094e9e72cdde26">QMS</a> Citizen Command and Control Interface</div>
<div class="line">  &lt;/interfaceDescription&gt;</div>
<div class="line">  &lt;Offer&gt;</div>
<div class="line">    &lt;variable&gt;</div>
<div class="line">      &lt;name&gt;sleep&lt;/name&gt;</div>
<div class="line">      &lt;value&gt;<span class="keywordtype">boolean</span>&lt;/value&gt;</div>
<div class="line">      &lt;searchable/&gt;</div>
<div class="line">      &lt;maptoProperty&gt;1&lt;/maptoProperty&gt;</div>
<div class="line">    &lt;/variable&gt;</div>
<div class="line">    &lt;variable&gt;</div>
<div class="line">        &lt;name&gt;restartDaemon&lt;/name&gt;</div>
<div class="line">      &lt;value&gt;<span class="keywordtype">char</span>*&lt;/value&gt;</div>
<div class="line">    &lt;/variable&gt;</div>
<div class="line">    &lt;variable&gt;</div>
<div class="line">      &lt;name&gt;organization&lt;/name&gt;</div>
<div class="line">      &lt;value&gt;S/TDC&lt;/value&gt;</div>
<div class="line">    &lt;/variable&gt;</div>
<div class="line">  &lt;/Offer&gt;      </div>
<div class="line">  &lt;Instance&gt;</div>
<div class="line">    &lt;variable&gt;</div>
<div class="line">      &lt;name&gt;Capability File Location&lt;/name&gt;</div>
<div class="line">      &lt;value&gt;/usr/local/qms/Capability.xml&lt;/value&gt;</div>
<div class="line">    &lt;/variable&gt;</div>
<div class="line">  &lt;/Instance&gt;</div>
<div class="line">  &lt;/sensorConfiguration&gt;</div>
<div class="line"></div>
</div><!-- fragment --><p>A sample Sensor capability file is described in Documentation/XML/SensorCapability.xml. As described above, any external probes that the Sensor can deploy are described in the Sensor's capability file. If the Sensor does not deploy any external probes then the Capability file is not necessary. However, the capability file may not be used to describe probes that are built into the Sensor. Built in probes are only described in the sensorConfiguration file. In the example, you see that the Sensor provides the ability to deploy an executable at "/usr/local/qms/bin/remosProbe" which will provide a data stream with the QMSUniqueName/Category - "Remos_Bandwidth_Probe". Note that the capability file can have any number of external probes defined in it.  <div class="fragment"></div><!-- fragment --></p>
<p><a class="el" href="README_8background.html">Understanding QMS</a> </p>
</div></div><!-- contents -->
    <table width="95%" border="7" frame="box" rules="none">
      <tbody align="center">
	<tr align="center">
	  <td align="center">
	    <table width="100%">
	      <colgroup width="25%">
		<col width="25%" align="left">
		<col span="2" width="25%" align="center">
		<col width="25%" align="right">
	      </colgroup>
	      <tbody align="center">
		<tr>
		  <td colspan="1" align="left">
		   <b>QoS Metrics Services</b> 
		  </td>
		  <td colspan="2" align="right" valign="top">
		    <a href="http://www.stdc.com/">
		      <img src="../images/logoonly.gif"
			   alt="S/TDC"  border=0
			   width=120  height=45>   
		    </a>
		  </td>
		  <td colspan="1" align="right">
		    <small id="xtiny">Revision: 1.2.1</small>
		  </td>
		</tr>
	      </tbody>
	    </table>
	  </td>
	</tr>
      </tbody>
    </table>
    <script type="text/javascript" language="JavaScript">
      <!--
      document.write("<p align=\"center\"><font size=\"-2\">Last Updated: ");
      document.writeln(document.lastModified);
        document.writeln("</font></p>");
      // -->
    </SCRIPT>
  </body>
</html>
<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-indent-data: t
sgml-live-element-indicator: t
sgml-set-face: t
End:
-->
