<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html>
  <head>
    <title>Payload_HW.cpp File Reference</title>
    <meta http-equiv="keywords" content="Validation">
    <meta http-equiv="keywords" content="S/TDC">
    <meta http-equiv="keywords" content="QMS">
    <meta http-equiv="keywords" content="QoS">
    <meta http-equiv="keywords" content="Metrics">
    <meta http-equiv="keywords" content="Services">
    <link href="mailto:info@stdc.com" rev="made">
    <meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
    <link href="../stylesheets/index.css" rel="stylesheet" type="text/css">
  </head>
  <body bgcolor="#ffffff">
    <p class="center">
      <a href="http://www.stdc.com/">
        <img class="center" src="../images/stdchead2logo.gif" alt="S/TDC"
	     border=0 height="42" width="629">
      </a>
   </p>
<!-- Generated by Doxygen 1.8.7 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_55d0ec0680333227ee439e2390ecbcae.html">Instrumentation</a></li><li class="navelem"><a class="el" href="dir_a2cb23013886c1ac0d8b41dc08aec901.html">Sensors</a></li><li class="navelem"><a class="el" href="dir_5a6a8150594239e0812b960869bcd360.html">Hello_World</a></li><li class="navelem"><a class="el" href="dir_5c14f224137389ac357661b14025f4f2.html">test</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">Payload_HW.cpp File Reference<div class="ingroups"><a class="el" href="group__HelloWorld.html">Hello-World sensor - an example sensor implementation</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>The server/probe specific parts of the client.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="Payload__HW_8h_source.html">Payload_HW.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for Payload_HW.cpp:</div>
<div class="dyncontent">
<div class="center"><img src="Payload__HW_8cpp__incl.png" border="0" usemap="#Payload__HW_8cpp" alt=""/></div>
<map name="Payload__HW_8cpp" id="Payload__HW_8cpp">
<area shape="rect" id="node3" href="Payload__HW_8h.html" title="The server/probe specific parts of the client. " alt="" coords="443,89,553,122"/><area shape="rect" id="node7" href="Parse__XML_8h.html" title="A convenient interface to parsing QMS XML documents. " alt="" coords="942,171,1043,205"/><area shape="rect" id="node47" href="Debug_8h.html" title="Debugging Macros. " alt="" coords="2839,254,2911,287"/></map>
</div>
</div>
<p><a href="Payload__HW_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a75ce8177f235d429167b83f31a36de2b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Payload__HW_8cpp.html#a75ce8177f235d429167b83f31a36de2b">payload_print</a> (struct <a class="el" href="structPayload__Data.html">Payload_Data</a> &amp;response_data)</td></tr>
<tr class="memdesc:a75ce8177f235d429167b83f31a36de2b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle the payload data coming back from the sensor  response_data A pointer to the data returned by the sensor.  <a href="#a75ce8177f235d429167b83f31a36de2b">More...</a><br /></td></tr>
<tr class="separator:a75ce8177f235d429167b83f31a36de2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac41a401bcfae2fac0940a1752734caeb"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Payload__HW_8cpp.html#ac41a401bcfae2fac0940a1752734caeb">get_child_value</a> (IDOM_Node *node_p)</td></tr>
<tr class="memdesc:ac41a401bcfae2fac0940a1752734caeb"><td class="mdescLeft">&#160;</td><td class="mdescRight">return the value of a child node  node_p A pointer to the node of interest  <a href="#ac41a401bcfae2fac0940a1752734caeb">More...</a><br /></td></tr>
<tr class="separator:ac41a401bcfae2fac0940a1752734caeb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19abdd7016d06413c69001d09b3d78b8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Payload__HW_8cpp.html#a19abdd7016d06413c69001d09b3d78b8">data_handler</a> (IDOM_Node *node_p, struct <a class="el" href="structPayload__Data.html">Payload_Data</a> *results_p)</td></tr>
<tr class="memdesc:a19abdd7016d06413c69001d09b3d78b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">handle the information inside the tags salutation and dataid.  node_p Pointer to name of the IDOM node.  results Reference to Data struct.  <a href="#a19abdd7016d06413c69001d09b3d78b8">More...</a><br /></td></tr>
<tr class="separator:a19abdd7016d06413c69001d09b3d78b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa521eefffb79b27039b8dbcfe1a38931"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Payload__HW_8cpp.html#aa521eefffb79b27039b8dbcfe1a38931">helloWorld_handler</a> (IDOM_Node *node_p, struct <a class="el" href="structPayload__Data.html">Payload_Data</a> *results_p)</td></tr>
<tr class="memdesc:aa521eefffb79b27039b8dbcfe1a38931"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle the information inside the tag <a class="el" href="structhelloWorld.html" title="intermediate level of the heirarchy of the payload ">helloWorld</a>.  node_p Pointer to name of the IDOM node.  results pointer to the outpput struxt.  <a href="#aa521eefffb79b27039b8dbcfe1a38931">More...</a><br /></td></tr>
<tr class="separator:aa521eefffb79b27039b8dbcfe1a38931"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af44bcd7c00550c462f7afa63f8f354fd"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Payload__HW_8cpp.html#af44bcd7c00550c462f7afa63f8f354fd">payload_Handler</a> (IDOM_Node *node_p, void *arg_p)</td></tr>
<tr class="memdesc:af44bcd7c00550c462f7afa63f8f354fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">handle the QMS Payload information under the tag qms:payload.  node_p Pointer to name of the IDOM node .  <a href="#af44bcd7c00550c462f7afa63f8f354fd">More...</a><br /></td></tr>
<tr class="separator:af44bcd7c00550c462f7afa63f8f354fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a747d697c2d00f9172b9722e915ae33bb"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Payload__HW_8cpp.html#a747d697c2d00f9172b9722e915ae33bb">payload_generator</a> (string &amp;probe_schema_uri, const char *action)</td></tr>
<tr class="memdesc:a747d697c2d00f9172b9722e915ae33bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate the payload for a message to the sensor.  <a href="#a747d697c2d00f9172b9722e915ae33bb">More...</a><br /></td></tr>
<tr class="separator:a747d697c2d00f9172b9722e915ae33bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:aa31f487a99743d24af9076a3e11e5425"><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Payload__HW_8cpp.html#aa31f487a99743d24af9076a3e11e5425">version</a></td></tr>
<tr class="memdesc:aa31f487a99743d24af9076a3e11e5425"><td class="mdescLeft">&#160;</td><td class="mdescRight">RCS version string.  <a href="#aa31f487a99743d24af9076a3e11e5425">More...</a><br /></td></tr>
<tr class="separator:aa31f487a99743d24af9076a3e11e5425"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a082e499c478aae658cc1b60519bc298f"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Payload__HW_8cpp.html#a082e499c478aae658cc1b60519bc298f">request_payload_fmt</a></td></tr>
<tr class="separator:a082e499c478aae658cc1b60519bc298f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97de02ce318a2eabaeae1befd4708478"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Payload__HW_8cpp.html#a97de02ce318a2eabaeae1befd4708478">action_payload_fmt</a></td></tr>
<tr class="separator:a97de02ce318a2eabaeae1befd4708478"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The server/probe specific parts of the client. </p>
<p>This is the implementation of the communication protocol that depends on the specific probe we are talking to. By separating out the code in these files, we make it easier to create a client for a new probe type.</p>
<dl class="section rcs"><dt>Id</dt><dd><a class="el" href="Payload__HW_8cpp.html" title="The server/probe specific parts of the client. ">Payload_HW.cpp</a>,v 1.6 2001/12/04 23:27:58 nath Exp </dd></dl>

<p>Definition in file <a class="el" href="Payload__HW_8cpp_source.html">Payload_HW.cpp</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a19abdd7016d06413c69001d09b3d78b8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void data_handler </td>
          <td>(</td>
          <td class="paramtype">IDOM_Node *&#160;</td>
          <td class="paramname"><em>node_p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structPayload__Data.html">Payload_Data</a> *&#160;</td>
          <td class="paramname"><em>results_p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>handle the information inside the tags salutation and dataid.  node_p Pointer to name of the IDOM node.  results Reference to Data struct. </p>

<p>Definition at line <a class="el" href="Payload__HW_8cpp_source.html#l00136">136</a> of file <a class="el" href="Payload__HW_8cpp_source.html">Payload_HW.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ac41a401bcfae2fac0940a1752734caeb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* get_child_value </td>
          <td>(</td>
          <td class="paramtype">IDOM_Node *&#160;</td>
          <td class="paramname"><em>node_p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>return the value of a child node  node_p A pointer to the node of interest </p>
<dl class="section return"><dt>Returns</dt><dd>Returns the pointer to leaf node.</dd></dl>
<p>Generally used to get values of leaf nodes </p>

<p>Definition at line <a class="el" href="Payload__HW_8cpp_source.html#l00116">116</a> of file <a class="el" href="Payload__HW_8cpp_source.html">Payload_HW.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="aa521eefffb79b27039b8dbcfe1a38931"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void helloWorld_handler </td>
          <td>(</td>
          <td class="paramtype">IDOM_Node *&#160;</td>
          <td class="paramname"><em>node_p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structPayload__Data.html">Payload_Data</a> *&#160;</td>
          <td class="paramname"><em>results_p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Handle the information inside the tag <a class="el" href="structhelloWorld.html" title="intermediate level of the heirarchy of the payload ">helloWorld</a>.  node_p Pointer to name of the IDOM node.  results pointer to the outpput struxt. </p>

<p>Definition at line <a class="el" href="Payload__HW_8cpp_source.html#l00194">194</a> of file <a class="el" href="Payload__HW_8cpp_source.html">Payload_HW.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a747d697c2d00f9172b9722e915ae33bb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* payload_generator </td>
          <td>(</td>
          <td class="paramtype">string &amp;&#160;</td>
          <td class="paramname"><em>probe_schema_uri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>action</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generate the payload for a message to the sensor. </p>

<p>Definition at line <a class="el" href="Payload__HW_8cpp_source.html#l00268">268</a> of file <a class="el" href="Payload__HW_8cpp_source.html">Payload_HW.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="af44bcd7c00550c462f7afa63f8f354fd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool payload_Handler </td>
          <td>(</td>
          <td class="paramtype">IDOM_Node *&#160;</td>
          <td class="paramname"><em>node_p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg_p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>handle the QMS Payload information under the tag qms:payload.  node_p Pointer to name of the IDOM node . </p>
<p>The function that handles the parsding of the payload.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">arg_p</td><td>void pointer to the <a class="el" href="structPayload__Data.html" title="The data contained in the responses from the sensor. ">Payload_Data</a> structure. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true on success </dd></dl>

<p>Definition at line <a class="el" href="Payload__HW_8cpp_source.html#l00234">234</a> of file <a class="el" href="Payload__HW_8cpp_source.html">Payload_HW.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a75ce8177f235d429167b83f31a36de2b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void payload_print </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structPayload__Data.html">Payload_Data</a> &amp;&#160;</td>
          <td class="paramname"><em>response_data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Handle the payload data coming back from the sensor  response_data A pointer to the data returned by the sensor. </p>
<p>The function that prints a <a class="el" href="structPayload__Data.html" title="The data contained in the responses from the sensor. ">Payload_Data</a> struct out.</p>
<p>This current implementation merely prints the sensor data out to the standard out, but more complex danling can easily be done. </p>

<p>Definition at line <a class="el" href="Payload__HW_8cpp_source.html#l00100">100</a> of file <a class="el" href="Payload__HW_8cpp_source.html">Payload_HW.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a97de02ce318a2eabaeae1befd4708478"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* action_payload_fmt</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= <span class="stringliteral">&quot;\</span></div>
<div class="line"><span class="stringliteral">    &lt;helloWorld xmlns=\&quot;http://www.stdc.com/2001/QMS/helloWorld\&quot;\n\</span></div>
<div class="line"><span class="stringliteral">      xmlns:xsi=\&quot;http://www.w3.org/2001/XMLSchema-instance\&quot;\n\</span></div>
<div class="line"><span class="stringliteral">      xsi:schemaLocation=\&quot;http://www.stdc.com/2001/QMS/helloWorld\n\</span></div>
<div class="line"><span class="stringliteral">      %s\&quot;&gt;\n\</span></div>
<div class="line"><span class="stringliteral">      &lt;Request&gt;\n\</span></div>
<div class="line"><span class="stringliteral">        &lt;action&gt;%s&lt;/action&gt;\n\</span></div>
<div class="line"><span class="stringliteral">      &lt;/Request&gt;\n\</span></div>
<div class="line"><span class="stringliteral">    &lt;/helloWorld&gt;\n\</span></div>
<div class="line"><span class="stringliteral">&quot;</span></div>
</div><!-- fragment -->
<p>Definition at line <a class="el" href="Payload__HW_8cpp_source.html#l00079">79</a> of file <a class="el" href="Payload__HW_8cpp_source.html">Payload_HW.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a082e499c478aae658cc1b60519bc298f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* request_payload_fmt</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= <span class="stringliteral">&quot;\</span></div>
<div class="line"><span class="stringliteral">    &lt;helloWorld xmlns=\&quot;http://www.stdc.com/2001/QMS/helloWorld\&quot;\n\</span></div>
<div class="line"><span class="stringliteral">      xmlns:xsi=\&quot;http://www.w3.org/2001/XMLSchema-instance\&quot;\n\</span></div>
<div class="line"><span class="stringliteral">      xsi:schemaLocation=\&quot;http://www.stdc.com/2001/QMS/helloWorld\n\</span></div>
<div class="line"><span class="stringliteral">      %s\&quot;&gt;\n\</span></div>
<div class="line"><span class="stringliteral">      &lt;Request&gt;\n\</span></div>
<div class="line"><span class="stringliteral">        &lt;firstname&gt;John&lt;/firstname&gt;\n\</span></div>
<div class="line"><span class="stringliteral">        &lt;lastname&gt;Doe&lt;/lastname&gt;\n\</span></div>
<div class="line"><span class="stringliteral">      &lt;/Request&gt;\n\</span></div>
<div class="line"><span class="stringliteral">    &lt;/helloWorld&gt;\n\</span></div>
<div class="line"><span class="stringliteral">&quot;</span></div>
</div><!-- fragment -->
<p>Definition at line <a class="el" href="Payload__HW_8cpp_source.html#l00067">67</a> of file <a class="el" href="Payload__HW_8cpp_source.html">Payload_HW.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="aa31f487a99743d24af9076a3e11e5425"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char* version</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= </div>
<div class="line"><span class="stringliteral">&quot;$Id: Payload_HW.cpp,v 1.6 2001/12/04 23:27:58 nath Exp $&quot;</span></div>
</div><!-- fragment -->
<p>RCS version string. </p>

<p>Definition at line <a class="el" href="Payload__HW_8cpp_source.html#l00057">57</a> of file <a class="el" href="Payload__HW_8cpp_source.html">Payload_HW.cpp</a>.</p>

</div>
</div>
</div><!-- contents -->
    <table width="95%" border="7" frame="box" rules="none">
      <tbody align="center">
	<tr align="center">
	  <td align="center">
	    <table width="100%">
	      <colgroup width="25%">
		<col width="25%" align="left">
		<col span="2" width="25%" align="center">
		<col width="25%" align="right">
	      </colgroup>
	      <tbody align="center">
		<tr>
		  <td colspan="1" align="left">
		   <b>QoS Metrics Services</b> 
		  </td>
		  <td colspan="2" align="right" valign="top">
		    <a href="http://www.stdc.com/">
		      <img src="../images/logoonly.gif"
			   alt="S/TDC"  border=0
			   width=120  height=45>   
		    </a>
		  </td>
		  <td colspan="1" align="right">
		    <small id="xtiny">Revision: 1.2.1</small>
		  </td>
		</tr>
	      </tbody>
	    </table>
	  </td>
	</tr>
      </tbody>
    </table>
    <script type="text/javascript" language="JavaScript">
      <!--
      document.write("<p align=\"center\"><font size=\"-2\">Last Updated: ");
      document.writeln(document.lastModified);
        document.writeln("</font></p>");
      // -->
    </SCRIPT>
  </body>
</html>
<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-indent-data: t
sgml-live-element-indicator: t
sgml-set-face: t
End:
-->
