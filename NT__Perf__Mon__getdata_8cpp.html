<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html>
  <head>
    <title>NT_Perf_Mon_getdata.cpp File Reference</title>
    <meta http-equiv="keywords" content="Validation">
    <meta http-equiv="keywords" content="S/TDC">
    <meta http-equiv="keywords" content="QMS">
    <meta http-equiv="keywords" content="QoS">
    <meta http-equiv="keywords" content="Metrics">
    <meta http-equiv="keywords" content="Services">
    <link href="mailto:info@stdc.com" rev="made">
    <meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
    <link href="../stylesheets/index.css" rel="stylesheet" type="text/css">
  </head>
  <body bgcolor="#ffffff">
    <p class="center">
      <a href="http://www.stdc.com/">
        <img class="center" src="../images/stdchead2logo.gif" alt="S/TDC"
	     border=0 height="42" width="629">
      </a>
   </p>
<!-- Generated by Doxygen 1.8.7 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_55d0ec0680333227ee439e2390ecbcae.html">Instrumentation</a></li><li class="navelem"><a class="el" href="dir_2e7ed1e191c4c32af4f022d9571ca8b0.html">Probes</a></li><li class="navelem"><a class="el" href="dir_6a311b5258fc4a582a463251596f7b47.html">Continuous</a></li><li class="navelem"><a class="el" href="dir_6e9129e20a283775c767efcd5ffee61b.html">Simple</a></li><li class="navelem"><a class="el" href="dir_b68d6bc86c9ce5b6563364bda86b3860.html">NT_Perf_Mon</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">NT_Perf_Mon_getdata.cpp File Reference<div class="ingroups"><a class="el" href="group__NTPerfMonProbe.html">Windows NT Performance Monitor Probes</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Contains implementation of a Probe that delivers NT Performance Monitor data.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="NT__Perf__Mon__getdata_8h_source.html">NT_Perf_Mon_getdata.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Instrumentation_8h_source.html">Instrumentation.h</a>&quot;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;time.h&gt;</code><br />
<code>#include &lt;iostream&gt;</code><br />
<code>#include &lt;string&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for NT_Perf_Mon_getdata.cpp:</div>
<div class="dyncontent">
<div class="center"><img src="NT__Perf__Mon__getdata_8cpp__incl.png" border="0" usemap="#NT__Perf__Mon__getdata_8cpp" alt=""/></div>
<map name="NT__Perf__Mon__getdata_8cpp" id="NT__Perf__Mon__getdata_8cpp">
<area shape="rect" id="node3" href="NT__Perf__Mon__getdata_8h.html" title="Contains implementation of a Probe that delivers NT Performance Monitor data. " alt="" coords="196,89,364,122"/><area shape="rect" id="node35" href="Instrumentation_8h.html" title="Instrumentation &#45; QoS intrumentation that uses QMS. " alt="" coords="388,89,508,122"/><area shape="rect" id="node5" href="Debug_8h.html" title="Debugging Macros. " alt="" coords="361,171,433,205"/></map>
</div>
</div>
<p><a href="NT__Perf__Mon__getdata_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ac9bbdbdd34054be8a2cb87341d98df9a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="NT__Perf__Mon__getdata_8cpp.html#ac9bbdbdd34054be8a2cb87341d98df9a">INITIAL_CALL</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:ac9bbdbdd34054be8a2cb87341d98df9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad4d33a336dad458d4f0078fcbfaf937"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="NT__Perf__Mon__getdata_8cpp.html#aad4d33a336dad458d4f0078fcbfaf937">DIFFERENT_COUNTER</a>&#160;&#160;&#160;2</td></tr>
<tr class="separator:aad4d33a336dad458d4f0078fcbfaf937"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21a55b1f094e3c9db485e0274bf4d5ee"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="NT__Perf__Mon__getdata_8cpp.html#a21a55b1f094e3c9db485e0274bf4d5ee">NOT_A_COUNTER</a>&#160;&#160;&#160;-1</td></tr>
<tr class="separator:a21a55b1f094e3c9db485e0274bf4d5ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d88fb2bcea4d6378fbe1af3629e9398"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="NT__Perf__Mon__getdata_8cpp.html#a2d88fb2bcea4d6378fbe1af3629e9398">PS_COUNTER</a>&#160;&#160;&#160;&quot;/proc/ps&quot;</td></tr>
<tr class="separator:a2d88fb2bcea4d6378fbe1af3629e9398"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ab055a8909159661307b7987b71696419"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="NT__Perf__Mon__getdata_8cpp.html#ab055a8909159661307b7987b71696419">getdata</a> (char *counterName, char *perfmon_data)</td></tr>
<tr class="separator:ab055a8909159661307b7987b71696419"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a08c2f10487a845c264b340cddfa43d85"><td class="memItemLeft" align="right" valign="top">HQUERY&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="NT__Perf__Mon__getdata_8cpp.html#a08c2f10487a845c264b340cddfa43d85">getData_hQuery</a> = 0</td></tr>
<tr class="separator:a08c2f10487a845c264b340cddfa43d85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58c5adb13bd74dd2c111e7e1d393cff1"><td class="memItemLeft" align="right" valign="top">HCOUNTER&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="NT__Perf__Mon__getdata_8cpp.html#a58c5adb13bd74dd2c111e7e1d393cff1">getData_counters</a></td></tr>
<tr class="separator:a58c5adb13bd74dd2c111e7e1d393cff1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99172254a1d40a1d10a73261bdab1896"><td class="memItemLeft" align="right" valign="top">PDH_FMT_COUNTERVALUE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="NT__Perf__Mon__getdata_8cpp.html#a99172254a1d40a1d10a73261bdab1896">getData_fmtValue</a></td></tr>
<tr class="separator:a99172254a1d40a1d10a73261bdab1896"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9e84773d9f2e739e084add699534b0a"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="NT__Perf__Mon__getdata_8cpp.html#aa9e84773d9f2e739e084add699534b0a">perfmon_processList_fmt</a></td></tr>
<tr class="separator:aa9e84773d9f2e739e084add699534b0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91f6080183e9bf7799f00d00d145da87"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="NT__Perf__Mon__getdata_8cpp.html#a91f6080183e9bf7799f00d00d145da87">process_row_fmt</a></td></tr>
<tr class="separator:a91f6080183e9bf7799f00d00d145da87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a802ce02b9968a6e421a22acc3377d6"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="NT__Perf__Mon__getdata_8cpp.html#a3a802ce02b9968a6e421a22acc3377d6">perfmon_counterValue_fmt</a></td></tr>
<tr class="separator:a3a802ce02b9968a6e421a22acc3377d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Contains implementation of a Probe that delivers NT Performance Monitor data. </p>
<p>This probe contains an implementation of a probe that delivers Windows NT performance monitor data. It can deliver any system counter that is available on Windows NT. </p>

<p>Definition in file <a class="el" href="NT__Perf__Mon__getdata_8cpp_source.html">NT_Perf_Mon_getdata.cpp</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="aad4d33a336dad458d4f0078fcbfaf937"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DIFFERENT_COUNTER&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="NT__Perf__Mon__getdata_8cpp_source.html#l00060">60</a> of file <a class="el" href="NT__Perf__Mon__getdata_8cpp_source.html">NT_Perf_Mon_getdata.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ac9bbdbdd34054be8a2cb87341d98df9a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define INITIAL_CALL&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="NT__Perf__Mon__getdata_8cpp_source.html#l00059">59</a> of file <a class="el" href="NT__Perf__Mon__getdata_8cpp_source.html">NT_Perf_Mon_getdata.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a21a55b1f094e3c9db485e0274bf4d5ee"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NOT_A_COUNTER&#160;&#160;&#160;-1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="NT__Perf__Mon__getdata_8cpp_source.html#l00061">61</a> of file <a class="el" href="NT__Perf__Mon__getdata_8cpp_source.html">NT_Perf_Mon_getdata.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a2d88fb2bcea4d6378fbe1af3629e9398"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PS_COUNTER&#160;&#160;&#160;&quot;/proc/ps&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="NT__Perf__Mon__getdata_8cpp_source.html#l00062">62</a> of file <a class="el" href="NT__Perf__Mon__getdata_8cpp_source.html">NT_Perf_Mon_getdata.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ab055a8909159661307b7987b71696419"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int getdata </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>counterName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>perfmon_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="NT__Perf__Mon__getdata_8cpp_source.html#l00115">115</a> of file <a class="el" href="NT__Perf__Mon__getdata_8cpp_source.html">NT_Perf_Mon_getdata.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a58c5adb13bd74dd2c111e7e1d393cff1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HCOUNTER getData_counters</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="NT__Perf__Mon__getdata_8cpp_source.html#l00065">65</a> of file <a class="el" href="NT__Perf__Mon__getdata_8cpp_source.html">NT_Perf_Mon_getdata.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a99172254a1d40a1d10a73261bdab1896"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PDH_FMT_COUNTERVALUE getData_fmtValue</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="NT__Perf__Mon__getdata_8cpp_source.html#l00066">66</a> of file <a class="el" href="NT__Perf__Mon__getdata_8cpp_source.html">NT_Perf_Mon_getdata.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a08c2f10487a845c264b340cddfa43d85"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HQUERY getData_hQuery = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="NT__Perf__Mon__getdata_8cpp_source.html#l00064">64</a> of file <a class="el" href="NT__Perf__Mon__getdata_8cpp_source.html">NT_Perf_Mon_getdata.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a3a802ce02b9968a6e421a22acc3377d6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* perfmon_counterValue_fmt</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= <span class="stringliteral">&quot;\</span></div>
<div class="line"><span class="stringliteral">    &lt;?xml version=\&quot;1.0\&quot; encoding=\&quot;UTF-8\&quot;?&gt;\n\</span></div>
<div class="line"><span class="stringliteral">    &lt;perfmonProbe xmlns=\&quot;http://www.stdc.com/2001/QMS/Probes/perfmonProbes\&quot;\n\</span></div>
<div class="line"><span class="stringliteral">      xmlns:xsi=\&quot;http://www.w3.org/2001/XMLSchema-instance\&quot;\n\</span></div>
<div class="line"><span class="stringliteral">      xsi:schemaLocation=\&quot;http://www.stdc.com/2001/QMS/Probes/perfmonProbes \n\</span></div>
<div class="line"><span class="stringliteral">      perfmonProbes.xsd\&quot;&gt;\n\</span></div>
<div class="line"><span class="stringliteral">      &lt;perfmonData&gt;\n\</span></div>
<div class="line"><span class="stringliteral">        &lt;dataid&gt;%ld&lt;/dataid&gt;\n\</span></div>
<div class="line"><span class="stringliteral">        &lt;resource&gt;%s&lt;/resource&gt;\n\</span></div>
<div class="line"><span class="stringliteral">        &lt;plotData&gt;\n\</span></div>
<div class="line"><span class="stringliteral">          &lt;numericData&gt;%ld.00&lt;/numericData&gt;\n\</span></div>
<div class="line"><span class="stringliteral">                  &lt;units&gt;%s&lt;/units&gt;\n\</span></div>
<div class="line"><span class="stringliteral">        &lt;/plotData&gt;\n\</span></div>
<div class="line"><span class="stringliteral">      &lt;/perfmonData&gt;\n\</span></div>
<div class="line"><span class="stringliteral">    &lt;/perfmonProbe&gt;\n\</span></div>
<div class="line"><span class="stringliteral">\n&quot;</span></div>
</div><!-- fragment -->
<p>Definition at line <a class="el" href="NT__Perf__Mon__getdata_8cpp_source.html#l00097">97</a> of file <a class="el" href="NT__Perf__Mon__getdata_8cpp_source.html">NT_Perf_Mon_getdata.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="aa9e84773d9f2e739e084add699534b0a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* perfmon_processList_fmt</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= <span class="stringliteral">&quot;\</span></div>
<div class="line"><span class="stringliteral">    &lt;?xml version=\&quot;1.0\&quot; encoding=\&quot;UTF-8\&quot;?&gt;\n\</span></div>
<div class="line"><span class="stringliteral">    &lt;perfmonProbe xmlns=\&quot;http://www.stdc.com/2001/QMS/Probes/perfmonProbes\&quot;\n\</span></div>
<div class="line"><span class="stringliteral">      xmlns:xsi=\&quot;http://www.w3.org/2001/XMLSchema-instance\&quot;\n\</span></div>
<div class="line"><span class="stringliteral">      xsi:schemaLocation=\&quot;http://www.stdc.com/2001/QMS/Probes/perfmonProbes \n\</span></div>
<div class="line"><span class="stringliteral">      perfmonProbes.xsd\&quot;&gt;\n\</span></div>
<div class="line"><span class="stringliteral">      &lt;perfmonData&gt;\n\</span></div>
<div class="line"><span class="stringliteral">        &lt;dataid&gt;%ld&lt;/dataid&gt;\n\</span></div>
<div class="line"><span class="stringliteral">        &lt;resource&gt;%s&lt;/resource&gt;\n\</span></div>
<div class="line"><span class="stringliteral">          &lt;columnData&gt;\n\</span></div>
<div class="line"><span class="stringliteral">           &lt;title&gt;\n\</span></div>
<div class="line"><span class="stringliteral">            &lt;column&gt;PID&lt;/column&gt;\n\</span></div>
<div class="line"><span class="stringliteral">            &lt;column&gt;Process Name&lt;/column&gt;\n\</span></div>
<div class="line"><span class="stringliteral">           &lt;/title&gt;\n\</span></div>
<div class="line"><span class="stringliteral">           %s\n\</span></div>
<div class="line"><span class="stringliteral">         &lt;/columnData&gt;\n\</span></div>
<div class="line"><span class="stringliteral">      &lt;/perfmonData&gt;\n\</span></div>
<div class="line"><span class="stringliteral">    &lt;/perfmonProbe&gt;\n\</span></div>
<div class="line"><span class="stringliteral">\n&quot;</span></div>
</div><!-- fragment -->
<p>Definition at line <a class="el" href="NT__Perf__Mon__getdata_8cpp_source.html#l00069">69</a> of file <a class="el" href="NT__Perf__Mon__getdata_8cpp_source.html">NT_Perf_Mon_getdata.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a91f6080183e9bf7799f00d00d145da87"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* process_row_fmt</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= <span class="stringliteral">&quot;\</span></div>
<div class="line"><span class="stringliteral">           &lt;row&gt;\n\</span></div>
<div class="line"><span class="stringliteral">              &lt;column&gt;%u&lt;/column&gt;\n\</span></div>
<div class="line"><span class="stringliteral">              &lt;column&gt;%s&lt;/column&gt;\n\</span></div>
<div class="line"><span class="stringliteral">           &lt;/row&gt;\n\</span></div>
<div class="line"><span class="stringliteral">&quot;</span></div>
</div><!-- fragment -->
<p>Definition at line <a class="el" href="NT__Perf__Mon__getdata_8cpp_source.html#l00089">89</a> of file <a class="el" href="NT__Perf__Mon__getdata_8cpp_source.html">NT_Perf_Mon_getdata.cpp</a>.</p>

</div>
</div>
</div><!-- contents -->
    <table width="95%" border="7" frame="box" rules="none">
      <tbody align="center">
	<tr align="center">
	  <td align="center">
	    <table width="100%">
	      <colgroup width="25%">
		<col width="25%" align="left">
		<col span="2" width="25%" align="center">
		<col width="25%" align="right">
	      </colgroup>
	      <tbody align="center">
		<tr>
		  <td colspan="1" align="left">
		   <b>QoS Metrics Services</b> 
		  </td>
		  <td colspan="2" align="right" valign="top">
		    <a href="http://www.stdc.com/">
		      <img src="../images/logoonly.gif"
			   alt="S/TDC"  border=0
			   width=120  height=45>   
		    </a>
		  </td>
		  <td colspan="1" align="right">
		    <small id="xtiny">Revision: 1.2.1</small>
		  </td>
		</tr>
	      </tbody>
	    </table>
	  </td>
	</tr>
      </tbody>
    </table>
    <script type="text/javascript" language="JavaScript">
      <!--
      document.write("<p align=\"center\"><font size=\"-2\">Last Updated: ");
      document.writeln(document.lastModified);
        document.writeln("</font></p>");
      // -->
    </SCRIPT>
  </body>
</html>
<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-indent-data: t
sgml-live-element-indicator: t
sgml-set-face: t
End:
-->
