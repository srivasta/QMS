<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html>
  <head>
    <title>QMS Trader - Underpinnings of the QMS publish/subscribe services</title>
    <meta http-equiv="keywords" content="Validation">
    <meta http-equiv="keywords" content="S/TDC">
    <meta http-equiv="keywords" content="QMS">
    <meta http-equiv="keywords" content="QoS">
    <meta http-equiv="keywords" content="Metrics">
    <meta http-equiv="keywords" content="Services">
    <link href="mailto:info@stdc.com" rev="made">
    <meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
    <link href="../stylesheets/index.css" rel="stylesheet" type="text/css">
  </head>
  <body bgcolor="#ffffff">
    <p class="center">
      <a href="http://www.stdc.com/">
        <img class="center" src="../images/stdchead2logo.gif" alt="S/TDC"
	     border=0 height="42" width="629">
      </a>
   </p>
<!-- Generated by Doxygen 1.8.7 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#files">Files</a> &#124;
<a href="#nested-classes">Classes</a>  </div>
  <div class="headertitle">
<div class="title">QMS Trader - Underpinnings of the QMS publish/subscribe services<div class="ingroups"><a class="el" href="group__Services.html">The Core services provided by QMS</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Collaboration diagram for QMS Trader - Underpinnings of the QMS publish/subscribe services:</div>
<div class="dyncontent">
<center><table><tr><td><img src="group__Trader.png" border="0" alt="" usemap="#group____Trader"/>
<map name="group____Trader" id="group____Trader">
<area shape="rect" id="node2" href="group__Services.html" title="The Core services provided\l by QMS" alt="" coords="7,15,199,70"/></map>
</td></tr></table></center>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="files"></a>
Files</h2></td></tr>
<tr class="memitem:ECInfo_8cpp"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ECInfo_8cpp.html">ECInfo.cpp</a></td></tr>
<tr class="memdesc:ECInfo_8cpp"><td class="mdescLeft">&#160;</td><td class="mdescRight">Contains the implementation of methods for <a class="el" href="classECInfo.html" title="class for storing Event Channel name and event id information. ">ECInfo</a> class. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ECInfo_8h"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ECInfo_8h.html">ECInfo.h</a></td></tr>
<tr class="memdesc:ECInfo_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classECInfo.html" title="class for storing Event Channel name and event id information. ">ECInfo</a> class definition and declaration of it's methods. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ListOffers_8cpp"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ListOffers_8cpp.html">ListOffers.cpp</a></td></tr>
<tr class="memdesc:ListOffers_8cpp"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lists the offers pertaining to a service type. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ListOffers_8h"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ListOffers_8h.html">ListOffers.h</a></td></tr>
<tr class="memdesc:ListOffers_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lists the offers pertaining to a service type. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:QMS__Trader__ECInfo_8cpp"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="QMS__Trader__ECInfo_8cpp.html">QMS_Trader_ECInfo.cpp</a></td></tr>
<tr class="memdesc:QMS__Trader__ECInfo_8cpp"><td class="mdescLeft">&#160;</td><td class="mdescRight">Contains Code to add service types to the Trader. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:QMS__Trader__ECInfo_8h"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="QMS__Trader__ECInfo_8h.html">QMS_Trader_ECInfo.h</a></td></tr>
<tr class="memdesc:QMS__Trader__ECInfo_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts the QMS_Trader_ECInfo CORBA object for accepting requests. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:QMS__Trader__ECInfo__Impl_8cpp"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="QMS__Trader__ECInfo__Impl_8cpp.html">QMS_Trader_ECInfo_Impl.cpp</a></td></tr>
<tr class="memdesc:QMS__Trader__ECInfo__Impl_8cpp"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implementation of <a class="el" href="classECInfo.html" title="class for storing Event Channel name and event id information. ">ECInfo</a> class and it's methods. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:QMS__Trader__ECInfo__Impl_8h"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="QMS__Trader__ECInfo__Impl_8h.html">QMS_Trader_ECInfo_Impl.h</a></td></tr>
<tr class="memdesc:QMS__Trader__ECInfo__Impl_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">The interface definition of the QMS trader functionality. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:Trader_8idl"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Trader_8idl.html">Trader.idl</a></td></tr>
<tr class="memdesc:Trader_8idl"><td class="mdescLeft">&#160;</td><td class="mdescRight">The Additional set of interfaces provided by the QMS Trader service. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQMS__Trader__ECInfo__Impl.html">QMS_Trader_ECInfo_Impl</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">servant class for handling different event channel information.  <a href="classQMS__Trader__ECInfo__Impl.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>One of the major facilities provided by QMS is the ability of clients to query the system for sources of QoS metrics and data. The trader:</p><ul>
<li>is the guts of the publish/subscribe capability of QMS</li>
<li>allows QMS citizens to publish their capabilities</li>
<li>allows QMS clients to locate capability providers</li>
</ul>
<p>The desired Trader features include:</p><ul>
<li>State of the environment maintained across invocations</li>
<li>Repository of provider/capability associations</li>
<li>Flexible query mechanism</li>
<li>Provide object reference to command interface of providers</li>
<li>Provide unique supplier ID, event channel ID, event type ID at supplier registration time</li>
<li>Provide list of supplier ID?s, event channel ID, event type ID at client request</li>
</ul>
<p>On a simplified level, this is how the publish/subscribe facility shall work:</p><ul>
<li>On startup all QMS citizens shall (perhaps after a local resource discovery phase), call the trading service with an XML document detailing the capabilities that it provides, as well as an CORBA object reference for the QMS_Command interface. At this point, the trading service returns a unique supplier ID number, as well as an event channel name. The policies and algorithms for determining the event channel name (which should depend on the capabilities provided, and the load on the event channel) shall be determined later.</li>
<li>QMS clients can then ask the trading service for sources of data. If such a provider has registered itself with the trader, the trader shall return a set of suppliers ID's, event channel names, event types, and object references. The client can then go down the list, using the <em>ping</em> member function of the object to ensure the object is still alive, and connect to the corresponding event channel, filtering based on the supplier ID and event type.</li>
</ul>
<p>The critical part of this scheme is the naming scheme used for classifying and identifying the data sought for and provided. Tentatively, we are looking towards the efforts of the Enterprise Management Group and CIM for a standards based solution to this issue. Please look at <a class="el" href="QMSUniqueName.html">Understanding QMSUniqueName</a> for details of the current work around.</p>
<p>The QMS Trader provides the all knowing directory service that is essential for the QMS environment to be operational. There are several components to the QMS Trader. The QMS_Trader_ECInfo gives each publisher in the QMS environment a SupplierID. All QMS citizens that publish data in the QMS environment contact the QMS_Trader_ECInfo to obtain a SupplierID. Note that there are two basic kinds of QMS clients. There are the clients that subscribe to a stream of data and just consume it - passive clients. There are also clients that actively send out requests for data that conform to the request message specification that the probe defines in the ProbeSchema.xsd. These clients that publish requests are - active clients. Active clients are also required to obtain SupplierID's from the QMS_Trader_ECInfo.</p>
<p>The QMS_Trader_ECInfo allows provides information to the QMS citizens that is related to the data stream that they are providing. For every QMSUniqueName/Category in the QMS environment, the QMS_Trader_ECInfo maintains a record of the Event Channels and the corresponding Event Types. For example, for the HelloWorld Sensor that publishes a datastream for the QMSUniqueName/Category "HelloWorldProbe", the QMS_Trader_ECInfo could have the following information.</p>
<ul>
<li>Sensors that publish HelloWorldProbe data publish it on the following Event Channels - QMS_D_DAT1 and QMS_D_DAT2 with the event_type 10001.</li>
<li>Sensors that publish HelloWorldProbe data receive requests for their data on the following Event Channels - QMS_D_REQ1, QMS_D_REQ2 and QMS_D_REQ3 with the event_type 120005.</li>
<li>Sensors that publish HelloWorldProbe data make announcements regarding their YellowPages Offers on the following Event Channel - QMS_D_ANN1 with event_type 25000.</li>
</ul>
<p>The scalability advantages of providing the multiple event channels for use by the provider of the HelloWorldProbe data are immediately obvious.</p>
<p>A Sensor that is activated in the QMS environment, goes about its business, by first obtaining a SupplierID, obtaining all the Event Channel information from the QMS_Trader_ECInfo and then registering a YellowPages Offer with the Trading Service under the ServiceType "STDC_QMS_CITIZEN_YPOFFER" along with all the details regarding the data stream. These are the offers that the QMS Clients will query to figure out who to talk to and how when using QMS. </p>
</div><!-- contents -->
    <table width="95%" border="7" frame="box" rules="none">
      <tbody align="center">
	<tr align="center">
	  <td align="center">
	    <table width="100%">
	      <colgroup width="25%">
		<col width="25%" align="left">
		<col span="2" width="25%" align="center">
		<col width="25%" align="right">
	      </colgroup>
	      <tbody align="center">
		<tr>
		  <td colspan="1" align="left">
		   <b>QoS Metrics Services</b> 
		  </td>
		  <td colspan="2" align="right" valign="top">
		    <a href="http://www.stdc.com/">
		      <img src="../images/logoonly.gif"
			   alt="S/TDC"  border=0
			   width=120  height=45>   
		    </a>
		  </td>
		  <td colspan="1" align="right">
		    <small id="xtiny">Revision: 1.2.1</small>
		  </td>
		</tr>
	      </tbody>
	    </table>
	  </td>
	</tr>
      </tbody>
    </table>
    <script type="text/javascript" language="JavaScript">
      <!--
      document.write("<p align=\"center\"><font size=\"-2\">Last Updated: ");
      document.writeln(document.lastModified);
        document.writeln("</font></p>");
      // -->
    </SCRIPT>
  </body>
</html>
<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-indent-data: t
sgml-live-element-indicator: t
sgml-set-face: t
End:
-->
