<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html>
  <head>
    <title>Understanding QMS Probes</title>
    <meta http-equiv="keywords" content="Validation">
    <meta http-equiv="keywords" content="S/TDC">
    <meta http-equiv="keywords" content="QMS">
    <meta http-equiv="keywords" content="QoS">
    <meta http-equiv="keywords" content="Metrics">
    <meta http-equiv="keywords" content="Services">
    <link href="mailto:info@stdc.com" rev="made">
    <meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
    <link href="../stylesheets/index.css" rel="stylesheet" type="text/css">
  </head>
  <body bgcolor="#ffffff">
    <p class="center">
      <a href="http://www.stdc.com/">
        <img class="center" src="../images/stdchead2logo.gif" alt="S/TDC"
	     border=0 height="42" width="629">
      </a>
   </p>
<!-- Generated by Doxygen 1.8.7 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Understanding QMS Probes </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Probes are the lowest level entity in the QMS infrastructure. If there is a data stream that is being generated, then there is a probe. Conceptually, a probe is the portion of the entity that is generating the data stream. Ofcourse, the probe could be a separate entity that allows itself to be controlled by the Sensor (this is how the Generic Sensor interacts with its probes) or it could be a probe that is built into the Sensor and has no existence of its own (the HelloWorld Probe).</p>
<p>When you've identified a unique data stream you have a case for a probe. The first step is to define a format for the data that the probe generates. It is important for this format to be something that the clients receiving the data understand as well, so as to be able to make sense of the data they are receiving. So this is accomplished by defining an XML Schema for the probe - "ProbeSchema.xsd" that clearly defines the format in which the probe publishes its data.</p>
<p>Now we would like to have the probe also support some additional features such as stopping the data stream, starting the data stream etc. These would be instructions sent to the probe in a request from the client. To make sure that the client understands the instructions, these are also described in the "ProbeSchema.xsd". This ensures that the clients also know what instructions are supported by the Probe and how to activate them.</p>
<p>A sample Probe schema file is described in Documentation/XML/ProbeSchema.xml. As described above, this schema shows that the Probe has defined its own distinct namespace, supports requests that instruct it to do something (start,pause,resume,stop) and sends responses that have a dataid and a response string in it. </p><div class="fragment"><div class="line">&lt;?xml <a class="code" href="ListOffers_8cpp.html#aa31f487a99743d24af9076a3e11e5425">version</a>=<span class="stringliteral">&quot;1.0&quot;</span> encoding=<span class="stringliteral">&quot;UTF-8&quot;</span>?&gt;</div>
<div class="line">&lt;!--******************************************************************</div>
<div class="line"> * Copyright (c) 2001, System/Technology Development Corporation</div>
<div class="line"> *                </div>
<div class="line"> * Filename:      ProbeSchema.xsd</div>
<div class="line"> * Version:       1.0</div>
<div class="line"> * Description:   Schema Description <span class="keywordflow">for</span> a Probe</div>
<div class="line"> *                </div>
<div class="line"> * Author:        Amarendranath Vadlamudi &lt;amar.vadlamudi@stdc.com&gt;</div>
<div class="line"> * Created at:    Tue Nov 30 10:05:05 2001</div>
<div class="line"> * Modified by:   Amarendranath Vadlamudi &lt;amar.vadlamudi@stdc.com&gt;</div>
<div class="line"> * Modified at:   Wed Oct 24 18:54:25 2001</div>
<div class="line"> * Status:        Experimental, <span class="keywordflow">do</span> not distribute.</div>
<div class="line"> * Update <a class="code" href="Benchmark__Remos_8cpp.html#ad43c3812e6d13e0518d9f8b8f463ffcf">count</a>:  1</div>
<div class="line"> ******************************************************************--&gt;</div>
<div class="line"></div>
<div class="line">  &lt;xsd:schema xmlns:xsd=<span class="stringliteral">&quot;http://www.w3.org/2001/XMLSchema&quot;</span></div>
<div class="line">    xmlns=<span class="stringliteral">&quot;http://www.stdc.com/2001/QMS/Probes/Continuous/SampleProbe&quot;</span></div>
<div class="line">    targetNamespace=<span class="stringliteral">&quot;http://www.stdc.com/2001/QMS/Probes/Continuous/SampleProbe&quot;</span></div>
<div class="line">    elementFormDefault=<span class="stringliteral">&quot;qualified&quot;</span></div>
<div class="line">    <a class="code" href="ListOffers_8cpp.html#aa31f487a99743d24af9076a3e11e5425">version</a>=<span class="stringliteral">&quot;$Id: ProbeSchema.xsd,v 1.1 2001/12/09 02:14:58 nath Exp $&quot;</span> &gt;</div>
<div class="line">  </div>
<div class="line"></div>
<div class="line">  &lt;xsd:complexType name=<span class="stringliteral">&quot;probeCommandType&quot;</span>&gt;</div>
<div class="line">    &lt;xsd:annotation&gt;</div>
<div class="line">      &lt;xsd:documentation&gt;The Probe supports a</div>
<div class="line">        set of control strings that allows the requestor to control</div>
<div class="line">        the <span class="keyword">function</span> of the probe. The supported actions are <span class="stringliteral">&quot;start&quot;</span>,</div>
<div class="line">        <span class="stringliteral">&quot;stop&quot;</span>, <span class="stringliteral">&quot;pause&quot;</span> and <span class="stringliteral">&quot;resume&quot;</span>. Corresponding to these control</div>
<div class="line">        actions, the probe executes the action. </div>
<div class="line">      &lt;/xsd:documentation&gt;</div>
<div class="line">    &lt;/xsd:annotation&gt;</div>
<div class="line">    &lt;xsd:sequence&gt;</div>
<div class="line">      &lt;xsd:element name=<span class="stringliteral">&quot;action&quot;</span>&gt;</div>
<div class="line">        &lt;xsd:simpleType&gt;</div>
<div class="line">          &lt;xsd:restriction base=<span class="stringliteral">&quot;xsd:string&quot;</span>&gt;</div>
<div class="line">            &lt;xsd:enumeration value=<span class="stringliteral">&quot;start&quot;</span>/&gt;</div>
<div class="line">            &lt;xsd:enumeration value=<span class="stringliteral">&quot;stop&quot;</span>/&gt;</div>
<div class="line">            &lt;xsd:enumeration value=<span class="stringliteral">&quot;pause&quot;</span>/&gt;</div>
<div class="line">            &lt;xsd:enumeration value=<span class="stringliteral">&quot;resume&quot;</span>/&gt;</div>
<div class="line">          &lt;/xsd:restriction&gt;</div>
<div class="line">        &lt;/xsd:simpleType&gt;</div>
<div class="line">      &lt;/xsd:element&gt;</div>
<div class="line">    &lt;/xsd:sequence&gt;</div>
<div class="line">  &lt;/xsd:complexType&gt;</div>
<div class="line"></div>
<div class="line">  &lt;xsd:complexType name=<span class="stringliteral">&quot;probeResponseType&quot;</span>&gt;</div>
<div class="line">    &lt;xsd:annotation&gt;</div>
<div class="line">      &lt;xsd:documentation&gt;The Probe is designed to</div>
<div class="line">      be a sample probe that can readily be used to test <span class="keyword">new</span></div>
<div class="line">      sensors. So it has a very simple response format.</div>
<div class="line">      &lt;/xsd:documentation&gt;</div>
<div class="line">    &lt;/xsd:annotation&gt;</div>
<div class="line">    &lt;xsd:sequence&gt;</div>
<div class="line">      &lt;xsd:element name=<span class="stringliteral">&quot;dataid&quot;</span> type=<span class="stringliteral">&quot;xsd:nonNegativeInteger&quot;</span>/&gt;</div>
<div class="line">      &lt;xsd:element name=<span class="stringliteral">&quot;response&quot;</span> type=<span class="stringliteral">&quot;xsd:string&quot;</span>/&gt;</div>
<div class="line">    &lt;/xsd:sequence&gt;</div>
<div class="line">  &lt;/xsd:complexType&gt;</div>
<div class="line"></div>
<div class="line">  &lt;xsd:element name=<span class="stringliteral">&quot;Probe&quot;</span>&gt;</div>
<div class="line">    &lt;xsd:complexType&gt;</div>
<div class="line">      &lt;xsd:choice&gt;</div>
<div class="line">        &lt;xsd:element name=<span class="stringliteral">&quot;probeRequest&quot;</span>&gt;</div>
<div class="line">          &lt;xsd:annotation&gt;</div>
<div class="line">            &lt;xsd:documentation&gt;</div>
<div class="line">             The probe supports the modification of the data refresh rate</div>
<div class="line">             and the publish interval. So <span class="keywordflow">if</span> the probeRequest element is </div>
<div class="line">             empty, the request is essentially changing the minRepetitions</div>
<div class="line">             and the <a class="code" href="namespaceSTDC_1_1QMS.html#a3fc06eb7ac9ccb378208302183c7dae9">minRepeatInterval</a> <span class="keywordflow">for</span> the probe.</div>
<div class="line">            &lt;/xsd:documentation&gt;</div>
<div class="line">          &lt;/xsd:annotation&gt;</div>
<div class="line">          &lt;xsd:complexType&gt;</div>
<div class="line">            &lt;xsd:sequence&gt;</div>
<div class="line">              &lt;xsd:element name=<span class="stringliteral">&quot;probeControl&quot;</span></div>
<div class="line">                type=<span class="stringliteral">&quot;probeCommandType&quot;</span> minOccurs=<span class="stringliteral">&quot;0&quot;</span>/&gt;</div>
<div class="line">            &lt;/xsd:sequence&gt;</div>
<div class="line">          &lt;/xsd:complexType&gt;</div>
<div class="line">        &lt;/xsd:element&gt;</div>
<div class="line">        &lt;xsd:element name=<span class="stringliteral">&quot;probeData&quot;</span> maxOccurs=<span class="stringliteral">&quot;unbounded&quot;</span> </div>
<div class="line">          type=<span class="stringliteral">&quot;probeResponseType&quot;</span>/&gt;</div>
<div class="line">      &lt;/xsd:choice&gt;</div>
<div class="line">    &lt;/xsd:complexType&gt;</div>
<div class="line">  &lt;/xsd:element&gt;</div>
<div class="line"></div>
<div class="line">&lt;/xsd:schema&gt;</div>
<div class="line"></div>
</div><!-- fragment --><p>If the probe is built into a Sensor, then this is all you need to understand and define. However, if the probe is to be an external probe that would be deployed by a Sensor such as the Generic Sensor, then the interactions between the Sensor and this probe need to be clearly specified. This process is accomplished through the use of XML transformation using XSLT. Each external probe needs to define a Probe.xsl file that is an XML stylesheet file. Note that the Sensor Capability file specifies this information for each probe.  <div class="fragment"></div><!-- fragment --></p>
<p>Note that in the capability file the external executable file that is the probe is identified, the XSL file to use is identified and several parameters that are needed by the probe during execution are also identified. More detail regarding how the Sensor uses this information can be found in <a class="el" href="UnderstandingXSL.html">Understanding XML Stylesheets (XSL) in QMS</a> in <a class="el" href="README_8misc.html">Building your own QMS citizens</a>. A sample XSL file for a simple QMS Probe is described in Documentation/XML/ProbeSample.xsl.</p>
<p><a class="el" href="README_8background.html">Understanding QMS</a> </p>
</div></div><!-- contents -->
    <table width="95%" border="7" frame="box" rules="none">
      <tbody align="center">
	<tr align="center">
	  <td align="center">
	    <table width="100%">
	      <colgroup width="25%">
		<col width="25%" align="left">
		<col span="2" width="25%" align="center">
		<col width="25%" align="right">
	      </colgroup>
	      <tbody align="center">
		<tr>
		  <td colspan="1" align="left">
		   <b>QoS Metrics Services</b> 
		  </td>
		  <td colspan="2" align="right" valign="top">
		    <a href="http://www.stdc.com/">
		      <img src="../images/logoonly.gif"
			   alt="S/TDC"  border=0
			   width=120  height=45>   
		    </a>
		  </td>
		  <td colspan="1" align="right">
		    <small id="xtiny">Revision: 1.2.1</small>
		  </td>
		</tr>
	      </tbody>
	    </table>
	  </td>
	</tr>
      </tbody>
    </table>
    <script type="text/javascript" language="JavaScript">
      <!--
      document.write("<p align=\"center\"><font size=\"-2\">Last Updated: ");
      document.writeln(document.lastModified);
        document.writeln("</font></p>");
      // -->
    </SCRIPT>
  </body>
</html>
<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-indent-data: t
sgml-live-element-indicator: t
sgml-set-face: t
End:
-->
